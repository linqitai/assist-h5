(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5be38be2"],{"0418":function(e,r,a){"use strict";var o=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-wrapper"},[e._t("default")],2)])},t=[],i={props:{msg:String},data:function(){return{active:0,boolTrue:!0}},created:function(){}},n=i,s=(a("521e"),a("2877")),l=Object(s["a"])(n,o,t,!1,null,"5dfa2afe",null);r["a"]=l.exports},"3de5":function(e,r,a){},"4e0a":function(e,r,a){"use strict";var o=a("3de5"),t=a.n(o);t.a},"51a6":function(e,r,a){},"521e":function(e,r,a){"use strict";var o=a("51a6"),t=a.n(o);t.a},"99af":function(e,r,a){"use strict";var o=a("23e7"),t=a("d039"),i=a("e8b5"),n=a("861d"),s=a("7b0b"),l=a("50c4"),c=a("8418"),p=a("65f0"),d=a("1dde"),f=a("b622"),u=a("2d00"),m=f("isConcatSpreadable"),A=9007199254740991,P="Maximum allowed index exceeded",D=u>=51||!t((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=d("concat"),b=function(e){if(!n(e))return!1;var r=e[m];return void 0!==r?!!r:i(e)},v=!D||!g;o({target:"Array",proto:!0,forced:v},{concat:function(e){var r,a,o,t,i,n=s(this),d=p(n,0),f=0;for(r=-1,o=arguments.length;r<o;r++)if(i=-1===r?n:arguments[r],b(i)){if(t=l(i.length),f+t>A)throw TypeError(P);for(a=0;a<t;a++,f++)a in i&&c(d,f,i[a])}else{if(f>=A)throw TypeError(P);c(d,f++,i)}return d.length=f,d}})},d6a4:function(e,r,a){"use strict";a.r(r);var o=function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"transfer"},[a("m-header",[a("i",{staticClass:"leftBox iconfont iconfont-left-arrow",on:{click:e.back}}),a("div",{staticClass:"text"},[e._v(" 转让矿石(服务商) ")]),a("i",{staticClass:"rightBox icon"})]),a("div",{staticClass:"transferPage"},[a("div",{staticClass:"placeholderLine10"}),a("div",{staticClass:"paddingWing tip4model3"},[e._v("当前拥有"),a("br"),e._v("矿石:"+e._s(e.userInfo.thisWeekMineral.toFixed(2))+"个 帮扶券:"+e._s(e.userInfo.platformTicket.toFixed(2))+"个")]),a("van-cell-group",[a("van-field",{attrs:{required:"",clearable:"",label:"转让数量",placeholder:"请填写转让数量","error-message":e.errorInfo4AppointDeal.transferAmount},on:{blur:function(r){return e.validate4AppointDeal("transferAmount")}},model:{value:e.form4AppointDeal.transferAmount,callback:function(r){e.$set(e.form4AppointDeal,"transferAmount",r)},expression:"form4AppointDeal.transferAmount"}}),a("van-field",{attrs:{required:"",disabled:"",label:"指导单价"},model:{value:e.curerntPlatformPrice,callback:function(r){e.curerntPlatformPrice=r},expression:"curerntPlatformPrice"}}),a("van-field",{attrs:{required:"",disabled:"",label:"指导总价"},model:{value:e.getGuidancePrice,callback:function(r){e.getGuidancePrice=r},expression:"getGuidancePrice"}}),a("van-field",{attrs:{required:"",clearable:"",label:"转让单价",placeholder:"请填写协商好的卖出单价","error-message":e.errorInfo4AppointDeal.price},on:{blur:function(r){return e.validate4AppointDeal("price")}},model:{value:e.form4AppointDeal.price,callback:function(r){e.$set(e.form4AppointDeal,"price",r)},expression:"form4AppointDeal.price"}}),a("van-field",{attrs:{required:"",clearable:"",label:"转让总价",placeholder:"请先填写转让单价","error-message":e.errorInfo4AppointDeal.assurePrice},on:{blur:function(r){return e.validate4AppointDeal("assurePrice")}},model:{value:e.getAssurePrice,callback:function(r){e.getAssurePrice=r},expression:"getAssurePrice"}}),a("van-field",{attrs:{required:"",clearable:"",label:"区块地址",placeholder:"请粘贴服务商的区块地址",maxlength:"36","error-message":e.errorInfo4AppointDeal.blockAddress},on:{blur:function(r){return e.validate4AppointDeal("blockAddress")}},model:{value:e.form4AppointDeal.blockAddress,callback:function(r){e.$set(e.form4AppointDeal,"blockAddress",r)},expression:"form4AppointDeal.blockAddress"}}),a("van-field",{attrs:{required:"",type:"password",clearable:"",label:"动态密码","error-message":e.errorInfo4AppointDeal.dsPassword,placeholder:"请填写服务商给的动态密码"},on:{blur:function(r){return e.validate4AppointDeal("dsPassword")}},model:{value:e.form4AppointDeal.dsPassword,callback:function(r){e.$set(e.form4AppointDeal,"dsPassword",r)},expression:"form4AppointDeal.dsPassword"}}),a("van-field",{attrs:{required:"",clearable:"",label:"身份证号",placeholder:"请填写自己的身份证号",maxlength:"18","error-message":e.errorInfo4AppointDeal.idCard},on:{blur:function(r){return e.validate4AppointDeal("idCard")}},model:{value:e.form4AppointDeal.idCard,callback:function(r){e.$set(e.form4AppointDeal,"idCard",r)},expression:"form4AppointDeal.idCard"}}),a("van-field",{attrs:{required:"",type:"password",clearable:"",label:"安全密码","error-message":e.errorInfo4AppointDeal.safePassword,placeholder:"请填写自己的安全密码"},on:{blur:function(r){return e.validate4AppointDeal("safePassword")}},model:{value:e.form4AppointDeal.safePassword,callback:function(r){e.$set(e.form4AppointDeal,"safePassword",r)},expression:"form4AppointDeal.safePassword"}})],1),a("div",{staticClass:"placeholderLine10"}),a("div",{staticClass:"placeholderLine10"}),e._m(0),a("div",{staticClass:"placeholderLine40"}),a("div",{staticClass:"placeholderLine40"}),a("div",{staticClass:"sureBtn"},[a("div",{staticClass:"placeholderLine4"}),a("van-button",{attrs:{color:"linear-gradient(to right, #ffae00, #ff8400)",loading:e.loading,size:"large"},on:{click:e.submit}},[e._v("提 交")])],1)],1)],1)},t=[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("div",{staticClass:"paddingWing tip4model3"},[a("b",{staticClass:"textBold"},[e._v("转让矿石(服务商)交易规则：")]),a("br"),e._v(" 1.无论是会员转矿石给服务商还是服务商转矿石给会员，转让手续费都是只收交易总金额10%的帮扶券。比如：交易总金额是200CNY，收20CNY价值的帮扶券作为手续费。该手续费，将会用来做线下的公益事业(爱心帮扶活动)。等疫情过去后，将陆陆续续开展线下的公益事业，期待有您的参与。"),a("br"),e._v(" 2.个人算力大于0.4G即可开通定向转让矿石给服务商的权限。"),a("br"),e._v(" 3.交易后所剩矿石数不得少于2个，注册所赠送的2个矿石只能用来复投矿机。"),a("br")])}],i=(a("99af"),a("b680"),a("acd8"),a("ac1f"),a("5319"),a("0418")),n=a("2241"),s={data:function(){return{showTipModel:!1,form4AppointDeal:{transferAmount:"",price:"",assurePrice:"",blockAddress:"",idCard:"",safePassword:"",dsPassword:""},errorInfo4AppointDeal:{transferAmount:"",price:"",assurePrice:"",blockAddress:"",idCard:"",safePassword:"",dsPassword:""},option1:[{text:"问题反馈",value:0},{text:"意见建议",value:1},{text:"我要告状",value:2},{text:"其他类型",value:3}],currentPage:1,pageCount:1e3,totalItems:1e4,userId:"",loading:!1,maxPrice:"",userInfo:"",curerntPlatformPrice:"",tipText4AppointDeal:"",guidancePrice:""}},components:{mHeader:i["a"]},computed:{getGuidancePrice:function(){var e=this,r=e.form4AppointDeal.transferAmount*e.curerntPlatformPrice;return e.guidancePrice=r.toFixed(2),e.guidancePrice},getAssurePrice:function(){var e=this,r=e.form4AppointDeal.transferAmount*e.form4AppointDeal.price;return e.form4AppointDeal.assurePrice=r.toFixed(2),e.form4AppointDeal.assurePrice}},created:function(){var e=this;e.tipText4AppointDeal=e.$api.tipText4AppointDeal;var r=localStorage.getItem("_USERINFO_");if(!r)return e.$toast(e.$api.loginAgainTipText),void e.$router.replace("login");console.log("userInfo_localStorage"),e.userInfo=JSON.parse(r),e.userId=e.userInfo.userId,e.getDealPageInfo()},methods:{back:function(){this.$router.go(-1)},getDealPageInfo:function(){var e=this;e.$ajax.ajax(e.$api.getDealPageInfo,"POST",null,(function(r){console.log("getDealPageInfo",r),r.code==e.$api.CODE_OK&&(e.curerntPlatformPrice=r.data.currentPlatformPrice,e.maxPrice=(1.3*parseFloat(1.3*r.data.currentPlatformPrice+3)).toFixed(2))}))},validate4AppointDeal:function(e){var r=this;if("transferAmount"==e)r.form4AppointDeal[e]>=1&&r.form4AppointDeal[e]<=1e4?r.errorInfo4AppointDeal.transferAmount="":r.errorInfo4AppointDeal.transferAmount="单次转让数量在1~10000之间";else if("price"==e){var a=parseFloat(r.form4AppointDeal[e]),o=parseFloat(r.maxPrice),t=parseFloat(r.curerntPlatformPrice);console.log("_this.maxPrice",r.maxPrice),console.log("_this.form4AppointDeal[key]",r.form4AppointDeal[e]),console.log("_this.form4AppointDeal[key]>_this.maxPrice",r.form4AppointDeal[e]>r.maxPrice),a>=t&&a<=o?r.errorInfo4AppointDeal.price="":(a>o||a<t)&&(console.log("_this.form4AppointDeal[key]>_this.maxPrice",a>o),r.errorInfo4AppointDeal.price="定向交易价格暂时控制在".concat(t,"~").concat(r.maxPrice,"CNY"))}else"assurePrice"==e?r.form4AppointDeal[e]>=.1&&r.form4AppointDeal[e]<=1e6?r.errorInfo4AppointDeal.assurePrice="":r.errorInfo4AppointDeal.assurePrice="担保金额暂时控制在0.1~1000000":"blockAddress"==e?r.$reg.block_address.test(r.form4AppointDeal[e])?r.errorInfo4AppointDeal.blockAddress="":r.errorInfo4AppointDeal.blockAddress="请正确粘贴对方的区块地址":"idCard"==e?r.$reg.idCard.test(r.form4AppointDeal[e])?r.errorInfo4AppointDeal.idCard="":r.errorInfo4AppointDeal.idCard="请正确填写身份证号":"safePassword"==e?r.$reg.safePassword.test(r.form4AppointDeal[e])?r.errorInfo4AppointDeal.safePassword="":r.errorInfo4AppointDeal.safePassword="安全密码不超过20位，由'字母或数字或._'组成":"dsPassword"==e&&(r.$reg.dsPassword.test(r.form4AppointDeal[e].replace(/ /g,""))?r.errorInfo4AppointDeal.dsPassword="":r.errorInfo4AppointDeal.dsPassword="请填写正确的动态密码")},submit:function(){console.log("submit");var e=this,r={num:e.form4AppointDeal.transferAmount,curerntPlatformPrice:e.curerntPlatformPrice,price:e.form4AppointDeal.price,assurePrice:e.form4AppointDeal.assurePrice,blockAddress:e.form4AppointDeal.blockAddress,idCard:e.form4AppointDeal.idCard,dsPassword:e.form4AppointDeal.dsPassword.replace(/ /g,""),safePassword:e.form4AppointDeal.safePassword.replace(/ /g,"")};console.log("params",r),console.log("_this.maxPrice",e.maxPrice),r.price>e.maxPrice?e.$toast("交易最高价暂时为".concat(e.maxPrice,"元")):e.userInfo.thisWeekMineral<r.num?e.$toast("您的矿石不够"):e.$utils.hasNull(r)?e.$toast("请填写完整信息"):(console.log("_this.errorInfo4BuyBill",e.errorInfo4BuyBill),e.$utils.hasVal(e.errorInfo4AppointDeal)?e.$toast("请按要求填写信息"):(r.safePassword=e.$JsEncrypt.encrypt(e.form4AppointDeal.safePassword),e.loading=!0,e.$ajax.ajax(e.$api.insertTransaction2ServiceBill,"POST",r,(function(a){a.code==e.$api.CODE_OK?(e.$cookies.set("isRefreshUserInfo",1,e.$api.cookiesTime),e.$cookies.set("tabName4MyDeal","get",e.$api.cookiesTime),r.agentPhone==localStorage.getItem("mobilePhone")?e.$router.push({path:"myDeal",query:{dealType:1,isSelf:1,mobilePhone:a.data.mobilePhone,num:r.num}}):e.$router.push({path:"myDeal",query:{dealType:1,mobilePhone:r.agentPhone,num:r.num}}),e.$utils.formClear(e.form4AppointDeal)):n["a"].alert({title:"系统提示",message:a.message}).then((function(){}))}),(function(){e.loading=!1}))))}}},l=s,c=(a("4e0a"),a("2877")),p=Object(c["a"])(l,o,t,!1,null,null,null);r["default"]=p.exports}}]);