(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0521a738"],{"0418":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-wrapper"},[e._t("default")],2)])},n=[],o={props:{msg:String},data:function(){return{active:0,boolTrue:!0}},created:function(){}},s=o,r=(a("521e"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"5dfa2afe",null);t["a"]=l.exports},"0fba":function(e,t,a){},2909:function(e,t,a){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0");function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){return i(e)||n(e)||o()}a.d(t,"a",(function(){return s}))},4472:function(e,t,a){"use strict";var i=a("6ce9"),n=a.n(i);n.a},"51a6":function(e,t,a){},"521e":function(e,t,a){"use strict";var i=a("51a6"),n=a.n(i);n.a},"6ce9":function(e,t,a){},8673:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"refreshBox",staticClass:"refreshBox",on:{click:e.handleRefresh}},[a("i",{staticClass:"iconfont iconfont-refresh"})])},n=[],o={props:{msg:String},data:function(){return{active:0,boolTrue:!0}},created:function(){},methods:{handleRefresh:function(){this.$emit("refreshEvent")}}},s=o,r=(a("86b1"),a("2877")),l=Object(r["a"])(s,i,n,!1,null,"bccff870",null);t["a"]=l.exports},"86b1":function(e,t,a){"use strict";var i=a("0fba"),n=a.n(i);n.a},e42f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dealRecord"},[a("m-header",[a("i",{staticClass:"leftBox iconfont iconfont-left-arrow",on:{click:e.back}}),a("div",{staticClass:"text"},[e._v(" 交易记录 ")]),a("i",{staticClass:"rightBox icon"})]),a("div",{staticClass:"myBookTabs"},[a("van-pull-refresh",{on:{refresh:e.refreshEvent},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("van-list",{attrs:{finished:e.finished1,"finished-text":"没有更多了"},on:{load:e.onLoad1},model:{value:e.loading1,callback:function(t){e.loading1=t},expression:"loading1"}},[a("div",{staticClass:"list"},e._l(e.list1,(function(t){return a("div",{key:t.id,staticClass:"item"},[a("div",{staticClass:"flex"},[a("div",{staticClass:"line"},[e._v(e._s(e._f("getDateTime")(t.createTime)))]),a("div",{staticClass:"line margT6"},[a("span",{staticClass:"ellipsis userIdSpan",on:{click:function(a){return e.toBookView(2,t.fromUserId)}}},[e._v(e._s(t.fromUserId))]),a("i",{staticClass:"iconfont iconfont-arrow-to"}),a("span",{staticClass:"ellipsis userIdSpan",on:{click:function(a){return e.toBookView(2,t.toUserId)}}},[e._v(e._s(t.toUserId))])])]),a("div",{staticClass:"flexRight"},[e._v(e._s(t.number))])])})),0)])],1)],1),a("m-refresh",{on:{refreshEvent:e.refreshEvent}})],1)},n=[],o=a("2909"),s=a("0418"),r=a("8673"),l={name:"dealRecord",data:function(){return{userId:"",isShowSkeleton:!0,loading:!0,currentPage1:1,currentPage2:1,currentPage3:1,currentPage4:1,pageSize:16,activeName:"mineral",loading1:!1,finished1:!1,loading2:!1,finished2:!1,loading3:!1,finished3:!1,loading4:!1,finished4:!1,list1:[],list2:[],list3:[],list4:[],list:[{id:0,createTime:"2019-12-12 12:12:12",type:-1,pm:"+",contributionValue:"20"}],mineralList:[{id:0,createTime:"2019-12-12 12:12:12",from:"矿机产出",addOrReduce:"+",number:"20"}]}},components:{mHeader:s["a"],mRefresh:r["a"]},create:function(){this.toScrollTop()},mounted:function(){var e=this;e.$cookies.isKey("tab_name_dealRecord")?e.activeName=e.$cookies.get("tab_name_dealRecord"):e.activeName="mineral"},methods:{back:function(){this.$router.go(-1)},toScrollTop:function(){window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0},toBookView:function(e,t){var a=this;console.log("toBookView");var i="mineral";1==e?i="ticket":2==e&&(i="mineral"),a.$cookies.set("tab_name_book",i,a.$api.cookiesTime),a.$router.push({path:"lookBook",query:{lookUserId:t}})},refreshEvent:function(){var e=this;"mineral"==e.activeName?(console.log("refresh1"),e.currentPage1=1,e.list1=[],e.finished1=!1,e.onLoad1()):"calculation"==e.activeName?(console.log("refresh2"),e.currentPage2=1,e.list2=[],e.finished2=!1,e.onLoad2()):"contribution"==e.activeName?(e.currentPage3=1,e.list3=[],e.finished3=!1,e.onLoad3()):"ticket"==e.activeName&&(e.currentPage4=1,e.list4=[],e.finished4=!1,e.onLoad4())},tabChange:function(e,t){var a=this;this.$cookies.set("tab_name_dealRecord",e,a.$api.cookiesTime)},onLoad1:function(){console.log("load1 getMineralBookList4SellType");var e=this,t={pageNo:e.currentPage1,pageSize:e.pageSize};e.loading1=!0,e.$ajax.ajax(e.$api.getMineralBookList4SellType,"GET",t,(function(t){if(e.loading=!1,t.code==e.$api.CODE_OK){var a,i=t.data.list;(a=e.list1).push.apply(a,Object(o["a"])(i)),e.loading1=!1,t.data.endRow==t.data.total?e.finished1=!0:e.currentPage1=e.currentPage1+1}else e.list1=e.list,e.loading1=!1,e.finished1=!0}))},onLoad2:function(){console.log("load2");var e=this,t={pageNo:e.currentPage2,pageSize:e.pageSize,userId:e.userId};e.loading2=!0,e.$ajax.ajax(e.$api.getCalculationPowerPageList,"GET",t,(function(t){if(e.loading=!1,t.code==e.$api.CODE_OK){var a,i=t.data.list;(a=e.list2).push.apply(a,Object(o["a"])(i)),e.loading2=!1,t.data.endRow==t.data.total?e.finished2=!0:e.currentPage2=e.currentPage2+1}else e.list2=e.list,e.loading2=!1,e.finished2=!0}))},onLoad3:function(){var e=this,t={pageNo:e.currentPage3,pageSize:e.pageSize,userId:e.userId};e.loading3=!0,e.$ajax.ajax(e.$api.getAssistContributionValueList,"GET",t,(function(t){if(e.loading=!1,t.code==e.$api.CODE_OK){var a,i=t.data.list;(a=e.list3).push.apply(a,Object(o["a"])(i)),e.loading3=!1,t.data.endRow==t.data.total?e.finished3=!0:e.currentPage3=e.currentPage3+1}else e.list3=e.list,e.loading3=!1,e.finished3=!0}))},onLoad4:function(){var e=this,t={pageNo:e.currentPage4,pageSize:e.pageSize,userId:e.userId};e.loading4=!0,e.$ajax.ajax(e.$api.getAssistPlateformTicketAccountBookList,"GET",t,(function(t){if(e.loading=!1,t.code==e.$api.CODE_OK){var a,i=t.data.list;(a=e.list4).push.apply(a,Object(o["a"])(i)),e.loading4=!1,t.data.endRow==t.data.total?e.finished4=!0:e.currentPage4=e.currentPage4+1}else e.list4=e.list,e.loading4=!1,e.finished4=!0}))}}},c=l,d=(a("4472"),a("2877")),u=Object(d["a"])(c,i,n,!1,null,null,null);t["default"]=u.exports}}]);