(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41d5a39c"],{"0418":function(t,a,s){"use strict";var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-wrapper"},[t._t("default")],2)])},e=[],c={props:{msg:String},data:function(){return{active:0,boolTrue:!0}},created:function(){}},n=c,o=(s("521e"),s("2877")),l=Object(o["a"])(n,i,e,!1,null,"5dfa2afe",null);a["a"]=l.exports},"51a6":function(t,a,s){},"521e":function(t,a,s){"use strict";var i=s("51a6"),e=s.n(i);e.a},"77b8":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"homePage"},[s("van-popup",{style:{width:"92%"},attrs:{round:!0},model:{value:t.showAttendanceModel,callback:function(a){t.showAttendanceModel=a},expression:"showAttendanceModel"}},[s("div",{staticClass:"attendanceBox"},[s("div",{staticClass:"close",on:{click:t.closeBtn}},[s("van-icon",{attrs:{name:"close"}})],1),s("div",{staticClass:"placeholderLine20"}),s("div",{staticClass:"title"},[t._v(t._s(t.attendanceTitle))]),s("div",{staticClass:"tomorrowContribution"},[t._v("连续签到30天可获得体验矿机一台")]),s("div",{staticClass:"placeholderLine10"}),s("div",{staticClass:"flexBox"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(1)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("1天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(2)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("2天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(3)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("3天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(4)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("4天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(5)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("5天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(6)},[t._v("0.01")]),s("div",{staticClass:"day"},[t._v("6天")])])]),s("div",{staticClass:"placeholderLine10"}),s("div",{staticClass:"flexBox"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(7)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("7天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(8)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("8天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(9)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("9天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(10)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("10天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(11)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("11天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(12)},[t._v("0.02")]),s("div",{staticClass:"day"},[t._v("12天")])])]),s("div",{staticClass:"placeholderLine10"}),s("div",{staticClass:"flexBox"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(13)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("13天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(14)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("14天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(15)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("15天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(16)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("16天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(17)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("17天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(18)},[t._v("0.04")]),s("div",{staticClass:"day"},[t._v("18天")])])]),s("div",{staticClass:"placeholderLine10"}),s("div",{staticClass:"flexBox"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(19)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("19天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(20)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("20天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(21)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("21天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(22)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("22天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(23)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("23天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(24)},[t._v("0.08")]),s("div",{staticClass:"day"},[t._v("24天")])])]),s("div",{staticClass:"placeholderLine10"}),s("div",{staticClass:"flexBox"},[s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(25)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("25天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(26)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("26天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(27)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("27天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(28)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("28天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(29)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("29天")])]),s("div",{staticClass:"flex"},[s("div",{staticClass:"circle",class:t.getAttendanceBgColor(30)},[t._v("0.16")]),s("div",{staticClass:"day"},[t._v("30天")])])]),s("div",{staticClass:"placeholderLine20"}),t.todayIsAttendance?t._e():s("div",[s("van-button",{attrs:{type:"info",size:"normal",loading:t.isLoading,disabled:t.isDisableAttendanceBtn,"loading-type":"spinner","loading-text":"加载中...",color:"linear-gradient(to right, #ffae00, #ff8400)",block:!0},on:{click:t.sureAttendanceBtn}},[s("span",{staticClass:"letterSpacing"},[t._v("签到")])]),s("div",{staticClass:"placeholderLine20"})],1),t.todayIsAttendance?s("div",[s("div",{staticClass:"textCenter red f-13"},[t._v("今日签到已领取"+t._s(t.getTodayAttendanceValue)+"贡献值")]),t.dayNum<30?s("div",{staticClass:"tomorrowContribution"},[t._v("明日签到可领取"+t._s(t.getTomorrowContributionValue)+"贡献值")]):t._e(),30==t.dayNum?s("div",{staticClass:"tomorrowContribution"},[t._v("恭喜您：今日已成功获取一台体验矿机，明日将重置签到")]):t._e(),s("div",{staticClass:"placeholderLine20"})]):t._e()])]),t.$route.meta.footer?s("van-pull-refresh",{on:{refresh:t.refreshEvent},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},[s("div",{staticClass:"HomeContent"},[s("div",{staticClass:"swipe"},[s("van-swipe",{staticStyle:{height:"190px"},attrs:{autoplay:3e3}},t._l(t.noticeList4Swipe,(function(t,a){return s("van-swipe-item",{key:a},[s("img",{attrs:{src:t.imgUrl}})])})),1)],1),s("div",{staticClass:"notice"},[s("van-notice-bar",{attrs:{text:t.lastNoticeItem.noticeTitle,"left-icon":"volume-o"},on:{click:function(a){return t.toNoticeDetail(t.lastNoticeItem)}}})],1),s("div",{staticClass:"millInfo"},[s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.allMineralNum||0))]),s("div",{staticClass:"margT6"},[t._v("矿石总量")])]),s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.beDigNum||0))]),s("div",{staticClass:"margT6"},[t._v("被挖数量")])]),s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.canCirculateNum||0))]),s("div",{staticClass:"margT6"},[t._v("可流通数量")])]),s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.beDestroyNum||0))]),s("div",{staticClass:"margT6"},[t._v("销毁数量")])])]),s("div",{staticClass:"millInfo"},[s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.awardNum||0))]),s("div",{staticClass:"margT6"},[t._v("奖励分红出去的数量")])]),s("div",{staticClass:"infoBox"},[s("div",{staticClass:"amount"},[t._v(t._s(t.statistics.allMineralNum-t.statistics.beDigNum-t.statistics.awardNum-t.statistics.beDestroyNum||0))]),s("div",{staticClass:"margT6"},[t._v("最后所剩矿石数量")])])]),s("div",{staticClass:"cateInfo"},[s("div",{staticClass:"infoBox",on:{click:t.attendanceBtn}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackgroundAttendance"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"attendance"}})],1)]),s("div",{staticClass:"text"},[t._v("签到")])]),s("div",{staticClass:"infoBox"},[s("router-link",{attrs:{to:"/ranking"}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackgroundRank"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"rank"}})],1)]),s("div",{staticClass:"text"},[t._v("排行榜")])])],1),s("div",{staticClass:"infoBox"},[s("router-link",{attrs:{to:"/agency"}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackground3"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"crown"}})],1)]),s("div",{staticClass:"text"},[t._v("省市代理")])])],1),s("div",{staticClass:"infoBox"},[s("router-link",{attrs:{to:"/voteList"}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackground4"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"vote"}})],1)]),s("div",{staticClass:"text"},[t._v("投票中心")])])],1)]),s("div",{staticClass:"cateInfo"},[s("div",{staticClass:"infoBox"},[s("router-link",{attrs:{to:"/cService"}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackgroundCService"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"cservice"}})],1)]),s("div",{staticClass:"text"},[t._v("客服")])])],1),s("div",{staticClass:"infoBox",on:{click:t.waiting2}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackground1"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"merchant"}})],1)]),s("div",{staticClass:"text"},[t._v("服务商")])]),s("div",{staticClass:"infoBox",on:{click:t.waiting}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackground2"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"merchant"}})],1)]),s("div",{staticClass:"text"},[t._v("商家入驻")])]),s("div",{staticClass:"infoBox",on:{click:t.waiting}},[s("div",{staticClass:"iconBox"},[s("div",{staticClass:"iconBackground iconBackgroundRaise"},[s("van-icon",{attrs:{"class-prefix":"iconfont",name:"love2"}})],1)]),s("div",{staticClass:"text"},[t._v("水滴帮扶筹")])])]),s("div",{staticClass:"noticeFlag paddingWing margT8"},[s("div",{staticClass:"title"},[t._v("历史公告")]),s("router-link",{staticClass:"lookMore",attrs:{to:"/noticeList"}},[t._v("查看更多 ")])],1),s("div",{staticClass:"noticeList"},t._l(t.noticeList,(function(a){return s("div",{key:a.id,staticClass:"item",on:{click:function(s){return t.toNoticeDetail(a)}}},[s("div",{staticClass:"itemLeft"},[s("div",{staticClass:"title"},[t._v(t._s(a.noticeTitle))]),s("div",{staticClass:"time"},[t._v(t._s(a.createTime))])]),s("div",{staticClass:"itemRight"},[s("i",{staticClass:"iconfont iconfont-right-arrow2"})])])})),0)])]):t._e(),t.lastNoticeItem.noticeTitle?s("van-dialog",{attrs:{title:t.lastNoticeItem.noticeTitle},model:{value:t.isShowLastNotice,callback:function(a){t.isShowLastNotice=a},expression:"isShowLastNotice"}},[s("div",{staticClass:"noticeDetail paddingWing"},[s("div",{staticClass:"content margT6",domProps:{innerHTML:t._s(t.lastNoticeItem.noticeContent)}}),s("div",{staticClass:"detailTime textCenter margT10"},[t._v(" "+t._s(t.lastNoticeItem.createTime)+" ")])])]):t._e(),s("transition",{attrs:{name:"van-fade"}},[s("keep-alive",{attrs:{include:"agency"}},[s("router-view")],1)],1)],1)},e=[],c=(s("ac1f"),s("5319"),s("1276"),s("0418")),n=s("2241"),o={name:"home",components:{mHeader:c["a"]},data:function(){return{isShowLastNotice:!1,todayIsAttendance:!1,isDisableAttendanceBtn:!1,isLoading:!1,userId:"",userInfo:"",getTodayAttendanceValue:.02,getTomorrowContributionValue:.02,dayNum:0,showAttendanceModel:!1,attendanceTitle:"",currentPage:1,pageSize:3,images:[],mill:{zl:"",bw:"",sy:""},noticeList:[],noticeList4Swipe:[],lastNoticeItem:"",statistics:{allMineralNum:0,beDigNum:0,leave:0},canCirculateNum:0,loading:!0,qqFlock:"",dealPageInfo:""}},mounted:function(){var t=this,a=localStorage.getItem("_USERINFO_");a?(t.userInfo=JSON.parse(a),t.userId=t.userInfo.userId,t.refreshAttendanceInfo()):(localStorage.removeItem("_USERINFO_"),t.$toast(t.$api.loginAgainTipText),t.$router.replace("/login")),t.$cookies.get("statistics")?t.statistics=t.$cookies.get("statistics"):t.refreshEvent(),t.$cookies.get("hasnoticeList")?(t.noticeList=JSON.parse(localStorage.getItem("noticeListLocal")),t.noticeList?t.lastNoticeItem=t.noticeList[0]:t.getNoticeList()):t.getNoticeList(),t.$cookies.isKey("hasNoticeList4Swipe")?(t.noticeList4Swipe=JSON.parse(localStorage.getItem("noticeList4Swipe")),t.noticeList4Swipe||t.getNoticeList4Swipe()):t.getNoticeList4Swipe();var s=t.$cookies.get("qqFlock");s?t.qqFlock="官方QQ群：".concat(s):t.getAssistQQFlock()},methods:{toServicePage:function(){this.$router.push("cService")},getAssistQQFlock:function(){var t=this;t.$ajax.ajax(t.$api.getAssistQQFlock,"POST",null,(function(a){a.code==t.$api.CODE_OK&&(t.qqFlock="官方QQ群：".concat(a.data.qqFlock),t.$cookies.set("qqFlock",a.data.qqFlock,t.$api.cookiesTime8h))}))},waiting:function(){n["a"].alert({title:"系统提示",confirmButtonText:"加油",message:"此功能正在努力建设中"}).then((function(){}))},waiting2:function(){n["a"].alert({title:"系统提示",confirmButtonText:"加油",message:"此模块即将开通"}).then((function(){}))},closeBtn:function(){this.showAttendanceModel=!1},refreshAttendanceInfo:function(){var t=this;t.$utils.isNUll(t.userInfo.attendanceBook)?t.dayNum=0:t.dayNum=t.userInfo.attendanceBook.split(",").length,t.attendanceTitle="已连续签到".concat(t.dayNum,"天"),t.getTomorrowContributionValue=t.$utils.getNextAttendanceValue(t.dayNum),t.getTodayAttendanceValue=t.$utils.getTodayAttendanceValue(t.dayNum);var a=t.$utils.getDate(new Date);a==t.userInfo.beforeAttendanceDate?(t.todayIsAttendance=!0,t.isDisableAttendanceBtn=!0):(t.todayIsAttendance=!1,t.isDisableAttendanceBtn=!1)},getAttendanceBgColor:function(t){var a=this;return t<=a.dayNum?"bgcolor2":"bgcolor1"},getUserInfo:function(){var t=this;t.$ajax.ajax(t.$api.getAssistUserInfo,"GET",null,(function(a){a.code==t.$api.CODE_OK&&(t.userInfo=a.data,t.refreshAttendanceInfo(),localStorage.setItem("_USERINFO_",JSON.stringify(t.userInfo)))}))},attendanceBtn:function(){this.showAttendanceModel=!0,this.getUserInfo()},sureAttendanceBtn:function(){var t=this,a=localStorage.getItem("_USERINFO_");if(a){var s=JSON.parse(a),i=(new Date).getTime()-864e5,e=t.$utils.getDate(i);""==s.beforeAttendanceDate||null==s.beforeAttendanceDate?(t.isLoading=!0,t.isDisableAttendanceBtn=!0,t.$ajax.ajax(t.$api.assistUserAttendance,"POST",null,(function(a){t.isLoading=!1,a.code==t.$api.CODE_OK?t.getUserInfo():1003==a.code?n["a"].alert({title:"提示信息",confirmButtonText:"前去查看",message:a.message}).then((function(){t.$router.push("mill")})):t.$toast(a.message)}))):s.beforeAttendanceDate<e?n["a"].alert({title:"提示信息",message:"该账号上次签到时间是"+s.beforeAttendanceDate+"，已经漏签需重新签到"}).then((function(){t.isLoading=!0,t.isDisableAttendanceBtn=!0,t.$ajax.ajax(t.$api.assistUserAttendance,"POST",null,(function(a){t.isLoading=!1,a.code==t.$api.CODE_OK?t.getUserInfo():1003==a.code?n["a"].alert({title:"提示信息",confirmButtonText:"前去查看",message:a.message}).then((function(){t.$router.push("mill")})):t.$toast(a.message)}))})):n["a"].alert({title:"提示信息",message:"该账号上次签到时间是"+s.beforeAttendanceDate+"，可续签"}).then((function(){t.isLoading=!0,t.isDisableAttendanceBtn=!0,t.$ajax.ajax(t.$api.assistUserAttendance,"POST",null,(function(a){t.isLoading=!1,a.code==t.$api.CODE_OK?t.getUserInfo():1003==a.code?n["a"].alert({title:"提示信息",confirmButtonText:"前去查看",message:a.message}).then((function(){t.$router.push("mill")})):t.$toast(a.message)}))}))}},refreshEvent:function(){var t=this;t.getHomeMineralStaticInfo(),t.getNoticeList4Swipe(),t.getNoticeList()},toNoticeDetail:function(t){var a=this;a.$router.push({path:"/noticeDetail",query:{id:t.id}})},getHomeMineralStaticInfo:function(){var t=this;t.loading=!0,t.$ajax.ajax(t.$api.getHomeMineralStaticInfo,"GET",null,(function(a){a.code==t.$api.CODE_OK&&(t.statistics=a.data,t.$cookies.set("statistics",t.statistics,t.$api.cookiesTime),t.loading=!1)}))},getMineralStatic:function(){var t=this;t.$ajax.ajax(t.$api.getMineralStatic,"GET",null,(function(a){a.code==t.$api.CODE_OK&&(t.statistics=a.data,t.$cookies.set("statistics",t.statistics,t.$api.cookiesTime))}))},getCanCirculateMineralNum:function(){var t=this;t.$ajax.ajax(t.$api.getCanCirculateMineralNum,"GET",null,(function(a){a.code==t.$api.CODE_OK&&(t.canCirculateNum=a.data)}))},getNoticeList4Swipe:function(){var t=this,a={pageNo:t.currentPage,pageSize:t.pageSize,type:1};t.$ajax.ajax(t.$api.getNoticePageList,"GET",a,(function(a){a.code==t.$api.CODE_OK&&(t.noticeList4Swipe=a.data.list,localStorage.setItem("noticeList4Swipe",JSON.stringify(t.noticeList4Swipe)),t.$cookies.set("hasNoticeList4Swipe",1,t.$api.cookiesTime8h))}))},getNoticeList:function(){var t=this,a={pageNo:t.currentPage,pageSize:6,type:0};t.$ajax.ajax(t.$api.getNoticePageList,"GET",a,(function(a){a.code==t.$api.CODE_OK&&(t.noticeList=a.data.list,t.lastNoticeItem=t.noticeList[0],t.isShowLastNotice=!0,localStorage.removeItem("noticeListLocal"),localStorage.setItem("noticeListLocal",JSON.stringify(a.data.list)),t.$cookies.set("hasnoticeList",1,7200),t.isShowLastNotice=!0)}))},noticeTap:function(){}}},l=o,d=(s("79ed"),s("2877")),r=Object(d["a"])(l,i,e,!1,null,"b986654a",null);a["default"]=r.exports},"79ed":function(t,a,s){"use strict";var i=s("9fea"),e=s.n(i);e.a},"9fea":function(t,a,s){}}]);