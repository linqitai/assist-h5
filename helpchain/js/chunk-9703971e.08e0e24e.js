(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9703971e"],{"4d0d":function(e,t,o){},"7f10":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"forgetPassword"},[o("m-header",[o("i",{staticClass:"leftBox iconfont iconfont-left-arrow",on:{click:e.back}}),o("div",{staticClass:"text"},[e._v(" 忘记密码 ")]),o("i",{staticClass:"rightBox icon"})]),o("div",{staticClass:"page"},[o("div",{staticClass:"formBox"},[o("van-cell-group",{attrs:{border:e.isNo}},[o("div",{staticClass:"labelText"},[e._v("手机号")]),o("van-field",{attrs:{clearable:"",placeholder:"请填写11位登录手机号","error-message":e.errorHint.phone,maxlength:"11"},on:{blur:function(t){return e.validate("phone")}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),o("div",{staticClass:"labelText"},[e._v("验证码")]),o("van-field",{attrs:{center:"",clearable:"","error-message":e.errorHint.securityCode,placeholder:"请填写右边的图形验证码"},on:{blur:function(t){return e.validate("securityCode")}},model:{value:e.form.securityCode,callback:function(t){e.$set(e.form,"securityCode",t)},expression:"form.securityCode"}},[o("van-button",{attrs:{slot:"button",size:"small",type:"primary",loading:e.getSCLoading},on:{click:e.getSecurityCode4forget},slot:"button"},[e._v(e._s(e.securityCode))])],1)],1),o("div",{staticClass:"sureBox"},[o("van-button",{attrs:{color:"linear-gradient(to right, #ffae00 , #ffae00)",size:"normal",block:!0,loading:e.isLoading,"loading-type":"spinner"},on:{click:e.submitValidBtn}},[e._v("提交验证")]),o("div",{staticClass:"placeholderLine10"})],1)],1),e.isShowWechat?o("div",{staticClass:"addWX"},[o("div",{staticClass:"tip4model3"},[e._v(" 忘记密码请通过登录手机号所绑定的微信加客服微信并备注： ")]),o("div",{staticClass:"placeholderLine4"}),o("div",{staticClass:"tip4model3"},[o("b",{staticClass:"textBold"},[e._v("【"+e._s(e.remark)+"】")]),o("span",{staticClass:"copy margL10",on:{click:function(t){return e.handleCopy(e.remark,t)}}},[e._v("复制此备注")])]),o("div",{staticClass:"placeholderLine4"}),o("div",{staticClass:"tip4model3"},[e._v(" Tip：由于客服好友数量可能已经满人，加客服微信不一定能通过，但TA会通过您加TA的时候所备注的手机号来查找您的微信，可以查找到且是同一个矿工的微信号，即可将您的登录密码和安全密码初始化为所注册的手机号。 ")]),o("div",{staticClass:"placeholderLine10"}),o("div",{staticClass:"placeholderLine10"})]):e._e()])],1)},a=[],s=(o("ac1f"),o("5319"),o("0418")),r=o("c8f1"),n=o("2241"),c={data:function(){return{isNo:!1,remark:"忘记密码+登录手机号",securityCode:"love",form:{phone:"",securityCode:""},errorHint:{phone:"",securityCode:""},isLoading:!1,getSCLoading:!1,isShowWechat:!1}},components:{mHeader:s["a"]},mounted:function(){},methods:{back:function(){this.$router.push("login")},handleCopy:function(e,t){var o=this;Object(r["a"])(e,t,(function(e){o.$toast("复制成功")}))},submitValidBtn:function(){var e=this;if(e.$utils.isNUll(e.form.phone))e.$toast("请先填写登录手机号");else{var t={securityCode:e.form.securityCode.replace(/ /g,"")};e.$utils.isNUll(e.form.securityCode.replace(/ /g,""))?e.$toast("请先填写验证码"):(console.log(t,"params"),e.isLoading=!0,e.$ajax.ajax(e.$api.verifySecurityCode,"POST",t,(function(t){t.code==e.$api.CODE_OK?(e.isShowWechat=!0,e.remark="忘记密码+".concat(e.form.phone)):e.$toast(t.message)}),(function(){e.isLoading=!1})))}},validate:function(e){var t=this;"phone"==e?t.$reg.phone.test(t.form.phone)?(t.errorHint.phone="",t.getSecurityCode4forget()):t.errorHint.phone=t.$reg.phoneHint:"securityCode"==e&&(t.$reg.securityCode.test(t.form.securityCode.replace(/ /g,""))?t.errorHint.securityCode="":t.errorHint.securityCode=t.$reg.securityCodeHint)},getSecurityCode4forget:function(){var e=this,t={mobilePhone:e.form.phone};e.$utils.isNUll(e.form.phone)?e.$toast("请先填写登录手机号"):(console.log(t,"params"),e.getSCLoading=!0,e.$ajax.ajax(e.$api.getSecurityCodeByPhone,"GET",t,(function(t){if(t.code==e.$api.CODE_OK){console.log("securityCode4Web",t.data);var o=e.$JsEncrypt.decrypt(t.data.initCode);e.securityCode=e.$utils.getSC(o)}else n["a"].alert({title:"系统提示",message:t.message}).then((function(){e.back()}))}),(function(){e.getSCLoading=!1})))}}},l=c,d=(o("bc9f"),o("2877")),u=Object(d["a"])(l,i,a,!1,null,null,null);t["default"]=u.exports},bc9f:function(e,t,o){"use strict";var i=o("4d0d"),a=o.n(i);a.a}}]);