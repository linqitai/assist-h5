(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63796514"],{a30e:function(e,t,o){e.exports=o.p+"img/LOGO.bcc1df0a.png"},ba18:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"loginBox"},[o("div",{staticClass:"formHeader"},[e._m(0),o("div",{staticClass:"welcomeText textIndent"},[e._v(e._s(e.welcomeText))])]),o("div",{staticClass:"formBox paddingWing"},[o("van-cell-group",{attrs:{border:e.isNo}},[o("div",{staticClass:"labelText"},[e._v("账号")]),o("van-field",{attrs:{clearable:"",placeholder:e.placeholder.phone,"error-message":e.errorHint.phone,maxlength:"11"},on:{blur:function(t){return e.validate("phone")}},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),o("div",{staticClass:"labelText"},[e._v("密码")]),o("van-field",{attrs:{type:"password",clearable:"",placeholder:e.placeholder.password,"error-message":e.errorHint.password},on:{blur:function(t){return e.validate("password")}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),o("div",{staticClass:"labelText"},[e._v("验证码")]),o("van-field",{attrs:{center:"",clearable:"",placeholder:"请输入右边的图形验证码","error-message":e.errorHint.securityCode},on:{blur:function(t){return e.validate("securityCode")}},model:{value:e.form.securityCode,callback:function(t){e.$set(e.form,"securityCode",t)},expression:"form.securityCode"}},[o("van-button",{attrs:{slot:"button",size:"small",type:"primary"},on:{click:e.getSecurityCode},slot:"button"},[e._v(e._s(e.securityCode))])],1)],1)],1),o("div",{staticClass:"sureBox paddingWing"},[o("div",{staticClass:"tip"},[e._v("点击登录即表示您同意"),o("span",{staticClass:"agreement",on:{click:function(t){return e.$router.push("agreement")}}},[e._v("《用户协议》")]),o("span",{staticClass:"forget",on:{click:e.forget}},[e._v("忘记密码？")])]),o("van-button",{attrs:{color:"linear-gradient(to right, #ffae00 , #ffae00)",size:"normal",block:!0,loading:e.isLoading,"loading-type":"spinner"},on:{click:e.loginBtn}},[e._v("登 录")]),o("div",{staticClass:"placeholderLine10"}),o("div",{staticClass:"placeholderLine10"})],1)])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logoBox"},[s("img",{attrs:{src:o("a30e"),alt:""}})])}],r=(o("ac1f"),o("5319"),o("2241")),i={data:function(){return{welcomeText:"",isNo:!1,securityCode:"love",form:{phone:"",password:"",securityCode:""},placeholder:{phone:"请填写11位登录手机号",password:"请填写6~16位登录密码",securityCode:"请填写4位验证码"},errorHint:{phone:"",password:"",securityCode:""},loginValidate:!0,isLoading:!1,cookiesTime:86400,userFreezeInfo:"",getInitCode:"",userInfo:""}},mounted:function(){var e=this;localStorage.removeItem("_USERINFO_"),e.form.phone=localStorage.getItem("mobilePhone"),e.welcomeText=e.$api.welcomeText,e.$cookies.get("token"),e.bsTip(),e.getSecurityCode()},methods:{getECBTN:function(){},setECBtn:function(){},bsTip:function(){var e=this,t=e.$utils.isWeixin();t&&r["a"].alert({title:"系统提示",message:e.$api.bsTip}).then((function(){}))},judgeMoreAccount:function(){var e=this,t=localStorage.getItem("mobilePhone");e.$utils.isNUll(t)||e.form.phone==t||e.$toast("请勿多账号操作，若经平台检测发现，冻结账号处理")},forget:function(){var e=this;e.$router.replace("/forgetPassword")},getAddress:function(){var e=this,t=localStorage.getItem("address");e.$utils.getProvince(t)},getAssistMaintainInfo:function(){var e=this;e.$ajax.ajax(e.$api.getAssistMaintainInfo,"POST",null,(function(t){if(t.code==e.$api.CODE_OK){var o=e.$utils.getTime(t.data.maintainEndTime),s=e.$utils.getTime(new Date);o>s?(localStorage.setItem("maintainInfo",JSON.stringify(t.data)),e.$router.push("/maintain")):e.getSecurityCode()}else e.$toast(t.message)}))},getSecurityCode:function(){var e=this;e.$ajax.ajax(e.$api.getSecurityCode,"POST",null,(function(t){if(t.code==e.$api.CODE_OK){e.getInitCode=t.data;var o=e.$JsEncrypt.decrypt(e.getInitCode.initCode);e.securityCode=e.$utils.getSC(o)}else e.$toast(t.message)}))},getUserFreezeInfo:function(){var e=this;e.$ajax.ajax(e.$api.getAssistUserFreezeByUserId,"GET",null,(function(t){t.code==e.$api.CODE_OK?(e.userFreezeInfo=t.data,null==e.userFreezeInfo?r["a"].alert({title:"系统提示",message:"您的账号被系统检测存在刷号现象，已被冻结。"}).then((function(){})):r["a"].alert({title:"系统提示",message:"您的账号异常或暂时被冻结，原因："+e.userFreezeInfo.reason+"。需找省市代理或客服解除异常或解冻。"}).then((function(){}))):e.$toast(t.message)}))},logout:function(){var e=this;e.$ajax.ajax(e.$api.loginOut,"GET",null,(function(t){t.code==e.$api.CODE_OK&&(e.$toast(t.message),localStorage.removeItem("_USERINFO_"),e.$cookies.remove("userId"),e.$cookies.remove("token"))}),(function(){}))},loginBtn:function(){var e=this,t={userName:e.form.phone.replace(/ /g,""),password:e.form.password.replace(/ /g,""),securityCode:e.form.securityCode.toLowerCase().replace(/ /g,"")},o=localStorage.getItem("mobilePhone");e.$utils.isNUll(o)||e.form.phone==o?e.$utils.hasNull(t)?e.$toast("系统提示:请填写完成信息"):e.$utils.hasVal(e.errorHint)?e.$toast("系统提示:请按要求填写信息"):(t.password=e.$JsEncrypt.encrypt(e.form.password),e.isLoading=!0,e.$ajax.ajax(e.$api.loginUser,"GET",t,(function(t){e.isLoading=!1,t.code==e.$api.CODE_OK?(e.userInfo=t.data.assistUserInfoVo4Web,e.$cookies.set("userId",e.userInfo.userId),e.$cookies.set("token",t.data.token),localStorage.setItem("_USERINFO_",JSON.stringify(e.userInfo)),localStorage.setItem("mobilePhone",e.userInfo.mobilePhone),1==e.userInfo.accountStatus?e.getUserFreezeInfo():e.$router.replace("/home")):r["a"].alert({title:"系统提示",message:t.message}).then((function(){e.getSecurityCode()}))}),(function(t){e.isLoading=!1}))):e.$toast("请勿多账号操作，若经平台检测发现，将冻结账号处理")},validate:function(e){var t=this;"phone"==e?t.$reg.phone.test(t.form.phone)?t.errorHint.phone="":t.errorHint.phone=t.$reg.phoneHint:"password"==e?t.$reg.password.test(t.form.password.replace(/ /g,""))?t.errorHint.password="":t.errorHint.password=t.$reg.passwordHint:"securityCode"==e&&(t.$reg.securityCode.test(t.form.securityCode.replace(/ /g,""))?t.errorHint.securityCode="":t.errorHint.securityCode=t.$reg.securityCodeHint)}}},n=i,l=(o("c746"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);t["default"]=c.exports},c746:function(e,t,o){"use strict";var s=o("e705"),a=o.n(s);a.a},e705:function(e,t,o){}}]);