(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5a77672"],{"0418":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-wrapper"},[e._t("default")],2)])},i=[],o={props:{msg:String},data:function(){return{active:0,boolTrue:!0}},created:function(){}},r=o,n=(a("521e"),a("2877")),s=Object(n["a"])(r,l,i,!1,null,"5dfa2afe",null);t["a"]=s.exports},"0ee4":function(e,t,a){"use strict";var l=a("4873"),i=a.n(l);i.a},"1be4":function(e,t,a){var l=a("d066");e.exports=l("document","documentElement")},"1cff":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"fullscreenBox",staticClass:"fullscreenBox",on:{click:e.handleFullScreen}},[a("i",{staticClass:"iconfont",class:[e.fullscreen?"iconfont-close-fullscreen":"iconfont-open-fullscreen"]})])},i=[],o={props:{msg:String},data:function(){return{fullscreen:!1}},created:function(){var e=this;e.fullscreen=e.$store.state.fullscreen||!1,console.log("_this.fullscreen:",e.fullscreen)},methods:{handleFullScreen:function(){var e=this;if(e.$toast("_this.phoneType："+e.phoneType),"i"==e.phoneType)return console.log("IOS系统暂时不支持全屏窗口"),void e.$toast("IOS系统暂时不支持全屏窗口");if("pt"!=e.phoneType){var t=document.documentElement;e.fullscreen?(e.$toast({message:"关闭全屏",closeOnClick:!0,duration:1e3}),document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()):(e.$toast({message:"开启全屏",closeOnClick:!0,duration:1e3}),t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()),e.fullscreen=!e.fullscreen,console.log("_this.fullscreen",e.fullscreen),e.$store.commit("setFullscreen",e.fullscreen),console.log("fullscreen=>",e.$store.state.fullscreen)}else e.$toast("葡萄浏览器暂时不支持全屏窗口")}}},r=o,n=(a("ab91"),a("2877")),s=Object(n["a"])(r,l,i,!1,null,"38c01150",null);t["a"]=s.exports},"37e8":function(e,t,a){var l=a("83ab"),i=a("9bf2"),o=a("825a"),r=a("df75");e.exports=l?Object.defineProperties:function(e,t){o(e);var a,l=r(t),n=l.length,s=0;while(n>s)i.f(e,a=l[s++],t[a]);return e}},"3bbe":function(e,t,a){var l=a("861d");e.exports=function(e){if(!l(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},4873:function(e,t,a){},"51a6":function(e,t,a){},"521e":function(e,t,a){"use strict";var l=a("51a6"),i=a.n(l);i.a},7111:function(e,t,a){},7156:function(e,t,a){var l=a("861d"),i=a("d2bb");e.exports=function(e,t,a){var o,r;return i&&"function"==typeof(o=t.constructor)&&o!==a&&l(r=o.prototype)&&r!==a.prototype&&i(e,r),e}},"7c73":function(e,t,a){var l,i=a("825a"),o=a("37e8"),r=a("7839"),n=a("d012"),s=a("1be4"),c=a("cc12"),u=a("f772"),f=">",d="<",m="prototype",p="script",g=u("IE_PROTO"),v=function(){},h=function(e){return d+p+f+e+d+"/"+p+f},B=function(e){e.write(h("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),a="java"+p+":";return t.style.display="none",s.appendChild(t),t.src=String(a),e=t.contentWindow.document,e.open(),e.write(h("document.F=Object")),e.close(),e.F},y=function(){try{l=document.domain&&new ActiveXObject("htmlfile")}catch(t){}y=l?B(l):b();var e=r.length;while(e--)delete y[m][r[e]];return y()};n[g]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(v[m]=i(e),a=new v,v[m]=null,a[g]=e):a=y(),void 0===t?a:o(a,t)}},"99af":function(e,t,a){"use strict";var l=a("23e7"),i=a("d039"),o=a("e8b5"),r=a("861d"),n=a("7b0b"),s=a("50c4"),c=a("8418"),u=a("65f0"),f=a("1dde"),d=a("b622"),m=a("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",h=m>=51||!i((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),B=f("concat"),b=function(e){if(!r(e))return!1;var t=e[p];return void 0!==t?!!t:o(e)},y=!h||!B;l({target:"Array",proto:!0,forced:y},{concat:function(e){var t,a,l,i,o,r=n(this),f=u(r,0),d=0;for(t=-1,l=arguments.length;t<l;t++)if(o=-1===t?r:arguments[t],b(o)){if(i=s(o.length),d+i>g)throw TypeError(v);for(a=0;a<i;a++,d++)a in o&&c(f,d,o[a])}else{if(d>=g)throw TypeError(v);c(f,d++,o)}return f.length=d,f}})},"9d3a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"deal"},[a("van-button",{attrs:{type:"info",size:"normal",to:"kline",color:"#ff8400",block:!0}},[a("span",{staticClass:"letterSpacing"},[e._v("查看K线图")])]),a("van-sticky",[a("div",{staticClass:"statistics"},[a("div",{staticClass:"line clearBoth flexCenter f-14"},[a("div",{staticClass:"left title"},[e._v("智能统计小助手")]),a("div",{staticClass:"right"},[e._v("求购总量 "+e._s(e.dealPageInfo.currentBuyNum))])]),a("div",{staticClass:"line clearBoth"},[a("div",{staticClass:"left"},[e._v("平台指导价 "+e._s(e.dealPageInfo.currentPlatformPrice)+"CNY")]),a("div",{staticClass:"right"},[e._v("24小时成交量 "+e._s(e.dealPageInfo.transactionNum24))])])])]),a("van-pull-refresh",{on:{refresh:e.refreshEvent},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("van-tabs",{attrs:{background:e.$api.tabBgColor,color:e.$api.tabActiveColor,"title-active-color":e.$api.tabActiveColor,"title-inactive-color":e.$api.tabTextColor,border:!1,animated:"",sticky:""},on:{change:e.tabChange},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[a("van-tab",{attrs:{title:"平价市场",name:"dealArea1"}},[a("div",{staticClass:"line1pxbgcolor"}),a("div",{staticClass:"dealContent"},[a("div",{staticClass:"dealList"},e._l(e.list1,(function(t){return a("div",{key:t.id,staticClass:"item"},[a("div",{staticClass:"boxLeft"},[a("div",{},[e._v("单价 "+e._s(t.price)+"CNY")]),a("div",{staticClass:"margT10"},[e._v("数量 "+e._s(t.minNumber)+"~"+e._s(t.maxNumber)+e._s(e.$api.coinUnit))])]),a("div",{staticClass:"boxRight"},[a("div",[e._v("合计 "+e._s(e.totalPrice(t.price,t.maxNumber))+"CNY")]),a("div",{staticClass:"margT3"},[a("van-button",{attrs:{type:"danger",size:"mini","loading-type":"spinner"},on:{click:function(a){return e.showPickSellModelBtn(t)}}},[e._v("随机卖")])],1)])])})),0),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),e.totalItems1>0?a("div",{staticClass:"paddingWing"},[a("van-pagination",{attrs:{"total-items":e.totalItems1,"items-per-page":e.pageSize,"show-page-size":3,"force-ellipses":""},on:{change:e.changeCurrentPage1},model:{value:e.currentPage1,callback:function(t){e.currentPage1=t},expression:"currentPage1"}})],1):e._e(),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"})])]),a("van-tab",{attrs:{title:"溢价市场",name:"dealArea2"}},[a("div",{staticClass:"dealContent"},[a("div",{staticClass:"dealList"},[a("div",{staticClass:"line1pxbgcolor"}),e._l(e.list2,(function(t){return a("div",{key:t.id,staticClass:"item"},[a("div",{staticClass:"boxLeft"},[a("div",{},[e._v("单价 "+e._s(t.price)+"CNY")]),a("div",{staticClass:"margT10"},[e._v("数量 "+e._s(t.minNumber)+"~"+e._s(t.maxNumber)+e._s(e.$api.coinUnit))])]),a("div",{staticClass:"boxRight"},[a("div",[e._v("合计 "+e._s(e.totalPrice(t.price,t.maxNumber))+"CNY")]),a("div",{staticClass:"margT3"},[a("van-button",{attrs:{type:"danger",size:"mini","loading-type":"spinner"},on:{click:function(a){return e.showPickSellModelBtn(t)}}},[e._v("随机卖")])],1)])])}))],2),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),e.totalItems2>0?a("div",{staticClass:"paddingWing"},[a("van-pagination",{attrs:{"total-items":e.totalItems2,"items-per-page":e.pageSize,"show-page-size":3,"force-ellipses":""},on:{change:e.changeCurrentPage2},model:{value:e.currentPage2,callback:function(t){e.currentPage2=t},expression:"currentPage2"}})],1):e._e(),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"}),a("div",{staticClass:"placeholderLine"})])])],1)],1),a("van-action-sheet",{attrs:{title:"卖出"},model:{value:e.showPickSellModel,callback:function(t){e.showPickSellModel=t},expression:"showPickSellModel"}},[a("van-cell-group",[a("div",{staticClass:"pickSellContent"},[a("div",{staticClass:"showMyInfo"},[a("div",[e._v("我的 矿石:"+e._s(e.userInfo.thisWeekMineral.toFixed(2))+"个 帮扶券:"+e._s(e.userInfo.platformTicket.toFixed(2))+"个")]),a("div",{staticClass:"placeholderLine10"}),a("div",[e._v("若卖"+e._s(e.form4pickSellBill.sellAmountSliderValue)+"个后")]),a("div",{staticClass:"placeholderLine10"}),a("div",{},[e._v("所剩 矿石:"+e._s(e.remainMineral)+"个 帮扶券:"+e._s(e.remainPlateForm)+"个")])]),a("div",{staticClass:"placeholderLine20 clear"}),a("div",{staticClass:"inLine"},[a("span",{staticClass:"label"},[e._v("想卖数量")]),a("span",{staticClass:"value"},[a("span",{staticClass:"valueLeft"},[a("van-stepper",{attrs:{"input-width":"40px","disable-input":"",integer:"",max:e.maxBill},model:{value:e.form4pickSellBill.sellAmountSliderValue,callback:function(t){e.$set(e.form4pickSellBill,"sellAmountSliderValue",t)},expression:"form4pickSellBill.sellAmountSliderValue"}})],1),a("span",{staticClass:"valueRight"},[a("van-slider",{attrs:{min:e.minBill,max:e.maxBill,"active-color":"#ffae00"},on:{change:e.onChange4slider},model:{value:e.form4pickSellBill.sellAmountSliderValue,callback:function(t){e.$set(e.form4pickSellBill,"sellAmountSliderValue",t)},expression:"form4pickSellBill.sellAmountSliderValue"}})],1)])])]),a("van-field",{attrs:{disabled:"",clearable:"",label:"单价"},model:{value:e.form4pickSellBill.price,callback:function(t){e.$set(e.form4pickSellBill,"price",t)},expression:"form4pickSellBill.price"}}),a("van-field",{attrs:{readonly:"",clickable:"",label:"选择服务费",value:e.serviceCharge,placeholder:"请先选择服务费","error-message":e.errorInfo4pickSellBill.serviceCharge},on:{click:function(t){e.showPicker4ServiceChargePopup=!0},blur:function(t){return e.validate4pickSellBill("serviceCharge")}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker4ServiceChargePopup,callback:function(t){e.showPicker4ServiceChargePopup=t},expression:"showPicker4ServiceChargePopup"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns4ServiceCharge},on:{cancel:function(t){e.showPicker4ServiceChargePopup=!1},confirm:e.onConfirm4ServiceCharge}})],1),a("van-field",{attrs:{required:"",type:"password",clearable:"",label:"安全密码","error-message":e.errorInfo4pickSellBill.safePassword,placeholder:"请填写安全密码"},on:{blur:function(t){return e.validate4pickSellBill("safePassword")}},model:{value:e.form4pickSellBill.safePassword,callback:function(t){e.$set(e.form4pickSellBill,"safePassword",t)},expression:"form4pickSellBill.safePassword"}})],1),a("div",{staticClass:"sureAppointBtnBox"},[a("div",{staticClass:"tip4model3"},[e._v("系统提示：卖出匹配是随机的，最新挂买的前"+e._s(e.dealPageInfo.limit)+"单会优先被匹配。")]),a("div",{staticClass:"placeholderLine10"}),a("van-button",{attrs:{color:"linear-gradient(to right, #ffae00 , #ff8400)",size:"normal",block:!0,loading:e.sellBtnLoading,"loading-type":"spinner"},on:{click:e.sureHangPickedSellBillBtn}},[e._v("确 认")])],1)],1),a("div",{staticClass:"buy",on:{click:function(t){return e.showBuyModelBtn()}}},[e._v("挂买")]),a("van-action-sheet",{attrs:{title:"挂买"},model:{value:e.showBuyModel,callback:function(t){e.showBuyModel=t},expression:"showBuyModel"}},[a("div",{staticClass:"hangBuyContent"},[a("van-cell-group",[a("van-field",{attrs:{label:"我的限购数量",type:"number",disabled:"","right-icon":"question-o"},on:{"click-right-icon":function(t){return e.alertTip(e.clickIconTip.buyAmount)}},model:{value:e.userInfo.canBuyNum,callback:function(t){e.$set(e.userInfo,"canBuyNum",t)},expression:"userInfo.canBuyNum"}}),a("van-field",{attrs:{type:"number",required:"",clearable:"",label:"想买数量","right-icon":"question-o",placeholder:"请填写想要买入的总数量","error-message":e.errorInfo4BuyBill.buyAmount},on:{"click-right-icon":function(t){return e.alertTip(e.clickIconTip.buyAmount)},blur:function(t){return e.validate4BuyBill("buyAmount")}},model:{value:e.form4BuyBill.buyAmount,callback:function(t){e.$set(e.form4BuyBill,"buyAmount",t)},expression:"form4BuyBill.buyAmount"}}),a("van-field",{attrs:{type:"number",required:"",clearable:"",label:"最低匹配数量","right-icon":"question-o",placeholder:"请填写允许被匹配的最低数量","error-message":e.errorInfo4BuyBill.buyLowestAmount},on:{"click-right-icon":function(t){return e.alertTip(e.clickIconTip.buyLowestAmount)},blur:function(t){return e.validate4BuyBill("buyLowestAmount")}},model:{value:e.form4BuyBill.buyLowestAmount,callback:function(t){e.$set(e.form4BuyBill,"buyLowestAmount",t)},expression:"form4BuyBill.buyLowestAmount"}}),a("van-field",{attrs:{type:"number",disabled:"",clearable:"",label:"单价","right-icon":"question-o",placeholder:"请填写单价"},on:{"click-right-icon":function(t){return e.alertTip(e.clickIconTip.platformUnivalence)}},model:{value:e.form4BuyBill.price,callback:function(t){e.$set(e.form4BuyBill,"price",t)},expression:"form4BuyBill.price"}}),a("div",{staticClass:"inLine"},[a("span",{staticClass:"label"},[e._v("开溢价")]),a("span",{staticClass:"value"},[a("span",{staticClass:"valueRight"},[a("van-slider",{attrs:{min:e.min4Price,max:e.max4Price},on:{change:e.onChange4sliderPrice},model:{value:e.addPriceValue,callback:function(t){e.addPriceValue=t},expression:"addPriceValue"}})],1)])]),a("van-field",{attrs:{type:"password",required:"",clearable:"",label:"安全密码","right-icon":"question-o",placeholder:"请填写安全密码","error-message":e.errorInfo4BuyBill.safePassword},on:{"click-right-icon":function(t){return e.alertTip(e.clickIconTip.safePassword)},blur:function(t){return e.validate4BuyBill("safePassword")}},model:{value:e.form4BuyBill.safePassword,callback:function(t){e.$set(e.form4BuyBill,"safePassword",t)},expression:"form4BuyBill.safePassword"}})],1),a("div",{staticClass:"sureAppointBtnBox"},[a("van-button",{attrs:{color:"linear-gradient(to right, #ffae00 , #ff8400)",size:"normal",block:!0},on:{click:e.sureHangBuyBillBtn}},[e._v("确 认")])],1)],1)]),a("van-action-sheet",{attrs:{title:"问题小帮手"},model:{value:e.showTipModel,callback:function(t){e.showTipModel=t},expression:"showTipModel"}},[a("div",{staticClass:"paddingWing"},[a("div",{staticClass:"placeholderLine40"}),a("div",{staticClass:"textCenter f-12"},[e._v(" "+e._s(e.questionText)+" ")]),a("div",{staticClass:"placeholderLine40"}),a("div",{staticClass:"placeholderLine40"})])])],1)},i=[],o=(a("99af"),a("a9e3"),a("b680"),a("acd8"),a("e25e"),a("ac1f"),a("5319"),a("0418")),r=a("1cff"),n=a("2241"),s={data:function(){return{sendSmsHref:"",smsContent:"",showSendSMSTipModel:!1,questionText:"",showTipModel:!1,addPriceValue:0,min4Price:0,max4Price:3,step4Price:.01,sellBtnLoading:!1,tabActiveName:"dealArea1",currentPage1:1,currentPage2:1,pageSize:8,pageCount:0,totalItems1:0,totalItems2:0,showAppointDealModel:!1,showBuyModel:!1,showSellModel:!1,showPickSellModel:!1,sellAmount:"",univalence:"",blockAddress:"",form4BuyBill:{buyAmount:"",buyLowestAmount:"",price:.28,safePassword:""},errorInfo4BuyBill:{buyAmount:"",buyLowestAmount:"",safePassword:""},serviceCharge:"",form4pickSellBill:{sellAmountSliderValue:1,price:.01,serviceCharge:0,safePassword:""},errorInfo4pickSellBill:{serviceCharge:"",safePassword:""},form4AppointDeal:{sellAmount:"",price:"",serviceCharge:0,safePassword:""},errorInfo4AppointDeal:{sellAmount:"",price:"",blockAddress:"",safePassword:""},sellAmountPlaceholder:"单笔挂卖数量的区间为1~2000",minBill:1,maxBill:2e3,appintDealValidate:!0,clickIconTip:{sellAmount:"",univalence:"",blockAddress:"",buyAmount:"",buyLowestAmount:"",platformUnivalence:"",serviceCharge:"",safePassword:""},errorInfo:{sellAmount:"",univalence:"",blockAddress:"",buyAmount:"",buyLowestAmount:"",safePassword:""},isShowSureBtn:!1,list1:[],loading1:!1,finished1:!1,list2:[],loading2:!0,finished2:!1,currentBuyNum:1314216,userInfo:"",userIdBuyBillCount:0,userIdSellBillCount:0,loading:!0,canBuyNum:2e3,columns4ServiceCharge:[],showPicker4ServiceChargePopup:!1,platformTicket:0,buyAndSellInfo:{},dealPageInfo:{currentBuyNum:1e5,currentPriceBuyNum:1e5,todayTransactionNum:1e5,initCanBuyNu:1e5,currentPlatformPrice:1e5},transactionVo4BuyerTip:""}},components:{mHeader:o["a"],mFullscreen:r["a"]},watch:{addPriceValue:function(e,t){var a=this;a.form4BuyBill.price=0==e?a.dealPageInfo.currentPlatformPrice:(1.3*a.dealPageInfo.currentPlatformPrice+e).toFixed(2)}},computed:{remainMineral:function(){var e=this,t=0;return t=0==e.form4pickSellBill.serviceCharge?e.userInfo.thisWeekMineral-e.form4pickSellBill.sellAmountSliderValue*(1+e.dealPageInfo.dealRatio):e.userInfo.thisWeekMineral-1.1*e.form4pickSellBill.sellAmountSliderValue,t.toFixed(2)},remainPlateForm:function(){var e=this,t=0;if(0==e.form4pickSellBill.serviceCharge)t=e.platformTicket;else if(1==e.form4pickSellBill.serviceCharge&&(t=e.platformTicket-.1*e.form4pickSellBill.sellAmountSliderValue,t<0))return alert("系统提示：对不起，您的帮扶券不够，请选择矿石做服务费"),e.form4pickSellBill.serviceCharge=0,e.serviceCharge="".concat(100*e.dealPageInfo.dealRatio,"%矿石"),t=e.platformTicket,t;return t.toFixed(2)}},created:function(){var e=this;e.bsTip(),e.initializeData(),e.initializeTabActiveName()},methods:{bsTip:function(){var e=this,t=e.$utils.isWeixin();t&&n["a"].alert({title:"系统提示",message:e.$api.bsTip}).then((function(){}))},alertTip:function(e){this.showTipModel=!0,this.questionText=e},onConfirm4ServiceCharge:function(e){var t=this;t.serviceCharge=e.text,t.form4pickSellBill.serviceCharge=e.id,t.showPicker4ServiceChargePopup=!1,1==t.form4pickSellBill.serviceCharge&&(t.maxBill=Math.floor(1.1*t.maxBill))},onChange4ServiceCharge:function(e,t,a){Toast("当前值：".concat(t,", 当前索引：").concat(a))},onChange4slider:function(e){},onChange4sliderPrice:function(e){var t=this;t.form4BuyBill.price=0==e?t.dealPageInfo.currentPlatformPrice:(1.3*t.dealPageInfo.currentPlatformPrice+e).toFixed(2)},toMyDealPage:function(){var e=this;e.$router.push("/myDeal4Deal")},refreshEvent:function(){var e=this;e.getDealPageInfo(),"dealArea1"==e.tabActiveName?(e.currentPage1=1,e.finished1=!1,e.getListGeneral()):"dealArea2"==e.tabActiveName&&(e.currentPage2=1,e.list2=[],e.finished2=!1,e.getListAddPrice())},totalPrice:function(e,t){return(e*t).toFixed(2)},tabChange:function(e,t){var a=this;this.$cookies.set("tabName4Deal",e,3600),"dealArea2"==e?a.$cookies.get("totalItems2")?(a.list2=JSON.parse(localStorage.getItem("LIST2")),a.totalItems2=parseInt(a.$cookies.get("totalItems2"))):a.getListAddPrice():"dealArea1"==e&&(a.$cookies.get("totalItems1")?(a.list1=JSON.parse(localStorage.getItem("LIST1")),a.totalItems1=parseInt(a.$cookies.get("totalItems1"))):a.getListGeneral())},initializeData:function(){var e=this,t=localStorage.getItem("_USERINFO_");if(!t)return e.$toast(e.$api.loginAgainTipText),void e.$router.replace("login");e.userInfo=JSON.parse(t),e.platformTicket=parseFloat(e.userInfo.platformTicket),e.canBuyNum=e.userInfo.canBuyNum,e.$cookies.get("haveDealPageInfo")?(e.dealPageInfo=JSON.parse(localStorage.getItem("dealPageInfo")),e.serviceCharge="".concat(100*e.dealPageInfo.dealRatio,"%矿石"),e.columns4ServiceCharge=[{id:0,text:e.serviceCharge},{id:1,text:"10%矿石+10%帮扶券"}],e.form4BuyBill.price=parseFloat(e.dealPageInfo.currentPlatformPrice)):e.getDealPageInfo(),e.clickIconTip={sellAmount:"请填写单次挂卖数量",univalence:e.$reg.univalenceHint,blockAddress:e.$reg.block_addressHint,buyAmount:e.$reg.positive_integerHint4BuyBill,buyLowestAmount:"允许被他人匹配的最低数量",platformUnivalence:"请按平台指导价挂单",serviceCharge:"请先选择服务费",safePassword:e.$reg.safePasswordHint},1==e.$cookies.get("isRefreshDealInfo")&&(e.refreshEvent(),e.$cookies.set("isRefreshDealInfo",0,e.$api.cookiesTime))},getHomeMineralStaticInfo:function(){var e=this;e.loading=!0,e.$ajax.ajax(e.$api.getHomeMineralStaticInfo,"GET",null,(function(t){t.code==e.$api.CODE_OK&&(e.statistics=t.data,e.$cookies.set("statistics",e.statistics,e.$api.cookiesTime))}))},getDealPageInfo:function(){var e=this;e.$ajax.ajax(e.$api.getDealPageInfo,"POST",null,(function(t){t.code==e.$api.CODE_OK&&(e.dealPageInfo=t.data,e.serviceCharge="".concat(100*e.dealPageInfo.dealRatio,"%矿石"),e.columns4ServiceCharge=[{id:0,text:e.serviceCharge},{id:1,text:"10%矿石+10%帮扶券"}],e.form4BuyBill.price=parseFloat(e.dealPageInfo.currentPlatformPrice),e.$cookies.set("haveDealPageInfo",1,1800),localStorage.setItem("dealPageInfo",JSON.stringify(e.dealPageInfo)))}))},getListGeneral:function(){var e=this,t={pageNo:e.currentPage1,pageSize:e.pageSize};e.loading1=!0,e.$ajax.ajax(e.$api.getAssistBuyBillListGeneralPage,"GET",t,(function(t){t.code==e.$api.CODE_OK&&(e.list1=t.data.list,e.totalItems1=t.data.total,e.$cookies.set("totalItems1",e.totalItems1,1800),e.loading1=!1,e.loading=!1,e.list1==[]||localStorage.setItem("LIST1",JSON.stringify(e.list1)))}))},getListAddPrice:function(){var e=this,t={pageNo:e.currentPage2,pageSize:e.pageSize};e.loading2=!0,e.$ajax.ajax(e.$api.getAssistBuyBillListAddPricePage,"GET",t,(function(t){t.code==e.$api.CODE_OK&&(e.list2=t.data.list,e.totalItems2=t.data.total,e.$cookies.set("totalItems2",e.totalItems2,1800),e.loading2=!1,e.loading=!1,localStorage.setItem("LIST2",JSON.stringify(e.list2)))}))},initializeTabActiveName:function(){var e=this;e.$cookies.isKey("tabName4Deal")&&(e.tabActiveName=e.$cookies.get("tabName4Deal")),"dealArea2"==e.tabActiveName?(e.$cookies.isKey("totalItems2")?e.totalItems2=parseInt(e.$cookies.get("totalItems2")):e.getListAddPrice(),localStorage.getItem("LIST2")?(e.list2=JSON.parse(localStorage.getItem("LIST2"))||[],e.list1=JSON.parse(localStorage.getItem("LIST1"))||[],e.loading=!1):e.getListAddPrice()):"dealArea1"==e.tabActiveName&&(e.$cookies.isKey("totalItems1")?e.totalItems1=parseInt(e.$cookies.get("totalItems1")):e.getListGeneral(),localStorage.getItem("LIST1")?(e.list1=JSON.parse(localStorage.getItem("LIST1"))||[],e.list2=JSON.parse(localStorage.getItem("LIST2"))||[],e.loading=!1):e.getListGeneral())},showPickSellModelBtn:function(e){var t=this;if("dealArea2"==t.tabActiveName&&t.userInfo.myCalculationPower<1)n["a"].alert({title:"系统提示",message:"个人算力达到1G后即可开通溢价交易"}).then((function(){}));else{var a=t.userInfo.thisWeekMineral,l=0,i=t.dealPageInfo.dealRatio;0==t.form4pickSellBill.serviceCharge?l=a/(1+i):1==t.form4pickSellBill.serviceCharge&&(l=a/1.1),l>=e.minNumber&&l<=e.maxNumber&&(t.maxBill=Math.floor(l)),l>=e.maxNumber&&(t.maxBill=Math.floor(e.maxNumber)),l<e.minNumber?n["a"].alert({title:"系统提示",message:"您的最大可卖数量不够匹配该买单。"}).then((function(){})):(t.showPickSellModel=!0,t.form4pickSellBill.price=e.price,t.form4pickSellBill.sellAmountSliderValue=e.minNumber,t.minBill=e.minNumber)}},sureHangPickedSellBillBtn:function(){var e=this;if(e.$utils.getTimeHMS(new Date)>"21:00:00")n["a"].alert({title:"系统提示",message:"交易时间是9~21点，请明天再来"}).then((function(){}));else if(e.$utils.getTimeHMS(new Date)>"00:00:00"&&e.$utils.getTimeHMS(new Date)<"09:00:00")n["a"].alert({title:"系统提示",message:"交易时间是9~21点，请到点再来"}).then((function(){}));else{var t={serviceCharge:e.form4pickSellBill.serviceCharge,num:e.form4pickSellBill.sellAmountSliderValue,price:e.form4pickSellBill.price,safePassword:e.form4pickSellBill.safePassword};1!=e.userInfo.actived||e.userInfo.buyMachineNum<2?n["a"].alert({title:"系统提示",message:'请先去完成"我的--任务中心"里的前2个任务'}).then((function(){})):e.$utils.hasNull(t)?e.$toast("请填写完整信息"):e.$utils.hasVal(e.errorInfo4pickSellBill)?e.$toast("请按要求填写信息"):(e.remainMineral<2&&n["a"].alert({title:"系统提示",message:"卖出后所剩矿石数不得少于2个，注册所赠送的2个矿石是用来复投矿机的"}).then((function(){})),e.userInfo.thisWeekMineral<t.num?e.$toast("系统提示：您的矿石不够"):(t.safePassword=e.$JsEncrypt.encrypt(e.form4pickSellBill.safePassword),e.sellBtnLoading=!0,e.$ajax.ajax(e.$api.insertTransaction4PickBill,"POST",t,(function(t){t.code==e.$api.CODE_OK?(e.showSellModel=!1,e.transactionVo4BuyerTip=t.data,e.$cookies.set("isRefreshUserInfo",!0,e.$api.cookiesTime),e.$cookies.set("tabName4MyDeal","get",3600),e.$router.push({path:"myDeal",query:{dealType:0,mobilePhone:e.transactionVo4BuyerTip.mobilePhone,num:e.transactionVo4BuyerTip.num}})):n["a"].alert({title:"系统提示",message:t.message}).then((function(){}))}),(function(){e.sellBtnLoading=!1}))))}},sendShortMessageBtn:function(){_this.sellBtnLoading=!1,_this.$cookies.set("isRefreshUserInfo",!0,_this.$api.cookiesTime),_this.$cookies.set("tabName4MyDeal","get",3600),_this.$router.push("myDeal")},showSellModelBtn:function(){var e=this,t={userId:e.userInfo.userId,price:e.dealPageInfo.currentPlatformPrice};e.$ajax.ajax(e.$api.getMinAndMaxBuyBillByUserId,"GET",t,(function(t){t.code==e.$api.CODE_OK&&(e.minBill=t.data.minBill,e.maxBill=t.data.maxBill,e.clickIconTip.sellAmount="该单价单笔可挂卖量为".concat(e.minBill,"~").concat(e.maxBill),e.sellAmountPlaceholder="单笔可挂卖量为".concat(e.minBill,"~").concat(e.maxBill),e.errorInfo4BuyBill.sellAmount=e.clickIconTip.sellAmount)})),e.$ajax.ajax(e.$api.getAssistTransactionCountBySellerId,"GET",null,(function(t){t.code==e.$api.CODE_OK?(e.userIdSellBillCount=t.data,e.userIdSellBillCount>0?n["a"].alert({title:"系统提示",message:"对不起，您当前还有未完成交易，是否前去完成？"}).then((function(){e.$cookies.set("tabName4MyDeal","get",3600),e.$router.push("myDeal")})):e.showSellModel=!0):e.$toast(t.message)}))},showBuyModelBtn:function(){var e=this;e.$utils.formClear(e.errorInfo4BuyBill),e.showBuyModel=!0,e.judgeMyBuyBill()},judgeMyBuyBill:function(){var e=this,t={userId:e.userInfo.userId,price:e.dealPageInfo.currentPlatformPrice};e.$ajax.ajax(e.$api.getAssistBuyBillListCountByUserId,"GET",t,(function(t){t.code==e.$api.CODE_OK?e.userIdBuyBillCount=t.data:e.$toast(t.message)}))},sureHangBuyBillBtn:function(){var e=this;if(e.userInfo.actived<=0)n["a"].alert({title:"系统提示",message:"挂单需先完成实名认证"}).then((function(){}));else{var t={maxNumber:e.form4BuyBill.buyAmount,minNumber:e.form4BuyBill.buyLowestAmount,price:e.form4BuyBill.price,type:0==e.addPriceValue?0:1,safePassword:e.form4BuyBill.safePassword};Number(t.maxNumber)<Number(t.minNumber)?n["a"].alert({title:"系统提示",message:"想买数量:".concat(t.maxNumber,"？最低匹配数量:").concat(t.minNumber,"?是否填写反了？")}).then((function(){})):e.$utils.hasNull(t)?e.$toast("请填写完整信息"):e.$utils.hasVal(e.errorInfo4BuyBill)?e.$toast("请按要求填写信息"):(t.safePassword=e.$JsEncrypt.encrypt(e.form4BuyBill.safePassword),e.$ajax.ajax(e.$api.insertBuyBill,"POST",t,(function(t){if(t.code==e.$api.CODE_OK)1==t.data&&(e.showBuyModel=!1,e.$toast(t.message),e.$cookies.set("tabName4MyDeal","buy",3600),e.$cookies.set("isRefreshDealInfo",1,3600),e.$router.push("myDeal"));else{if(2003==t.code)return void n["a"].alert({title:"系统提示",message:"同一价格每人只能挂一单，前去查看您所挂的买单？"}).then((function(){e.$cookies.set("tabName4MyDeal","buy",3600),e.$router.push("myDeal")}));e.$toast(t.message)}})))}},validate4BuyBill:function(e){var t=this;"buyAmount"==e?t.$reg.positive_integer.test(t.form4BuyBill[e])?t.form4BuyBill[e]>=1&&t.form4BuyBill[e]<=t.canBuyNum?t.errorInfo4BuyBill.buyAmount="":t.errorInfo4BuyBill.buyAmount="您当前的限购数量为".concat(t.canBuyNum):t.errorInfo4BuyBill.buyAmount="请填写正整数":"buyLowestAmount"==e?t.$reg.positive_integer.test(t.form4BuyBill[e])?t.form4BuyBill[e]>=1&&t.form4BuyBill[e]<=t.canBuyNum?t.errorInfo4BuyBill.buyLowestAmount="":t.errorInfo4BuyBill.buyLowestAmount="您当前的限购数量为".concat(t.canBuyNum):t.errorInfo4BuyBill.buyAmount="请填写正整数":"safePassword"==e&&(t.$reg.safePassword.test(t.form4BuyBill[e])?t.errorInfo4BuyBill.safePassword="":t.errorInfo4BuyBill.safePassword=t.clickIconTip.safePassword)},validate4pickSellBill:function(e){var t=this;"safePassword"==e?t.$reg.safePassword.test(t.form4pickSellBill[e])?t.errorInfo4pickSellBill.safePassword="":t.errorInfo4pickSellBill.safePassword=t.clickIconTip.safePassword:"serviceCharge"==e&&(0==t.form4pickSellBill[e]||1==t.form4pickSellBill[e]?t.errorInfo4pickSellBill.serviceCharge="":t.errorInfo4pickSellBill.serviceCharge=t.clickIconTip.serviceCharge)},validate4AppointDeal:function(e){var t=this;"sellAmount"==e?t.form4AppointDeal[e]>=1&&t.form4AppointDeal[e]<=1e4?t.errorInfo4AppointDeal.sellAmount="":t.errorInfo4AppointDeal.sellAmount=t.clickIconTip.sellAmount:"price"==e?parseFloat(t.form4AppointDeal[e])>=t.platformUnivalence&&parseFloat(t.form4AppointDeal.price)<=t.platformUnivalence+3?t.errorInfo4AppointDeal.price="":t.errorInfo4AppointDeal.price="定向交易价格不符合平台规定":"blockAddress"==e?t.$reg.block_address.test(t.form4AppointDeal[e])?t.errorInfo4AppointDeal.blockAddress="":t.errorInfo4AppointDeal.blockAddress=t.clickIconTip.blockAddress:"safePassword"==e&&(t.$reg.safePassword.test(t.form4AppointDeal[e])?t.errorInfo4AppointDeal.safePassword="":t.errorInfo4AppointDeal.safePassword=t.clickIconTip.safePassword)},validate:function(e){var t=this;"sellAmount"==e?t.sellAmount?t.errorInfo.sellAmount="":t.errorInfo.sellAmount=t.clickIconTip.sellAmount:"univalence"==e?t.$reg.univalence.test(t.univalence)?parseFloat(t.univalence)>=t.platformUnivalence&&parseFloat(t.univalence)<1e6?t.errorInfo.univalence="":t.errorInfo.univalence="请填写高于平台价且小于1000000的单价":t.errorInfo.univalence=t.clickIconTip.univalence:"blockAddress"==e?t.$reg.block_address.test(t.blockAddress)?t.errorInfo.blockAddress="":t.errorInfo.blockAddress=t.clickIconTip.blockAddress:"buyAmount"==e?t.$reg.positive_integer4BuyBill.test(t.form4BuyBill[e])?t.errorInfo.buyAmount="":t.errorInfo.buyAmount=t.clickIconTip.buyAmount:"buyLowestAmount"==e?t.$reg.positive_integer4BuyBill.test(t.form4BuyBill[e])?t.errorInfo.buyLowestAmount="":t.errorInfo.buyLowestAmount=t.clickIconTip.buyLowestAmount:"safePassword"==e&&(t.$reg.safePassword.test(t.form4BuyBill[e])?t.errorInfo.safePassword="":t.errorInfo.safePassword=t.clickIconTip.safePassword)},openAppointDeal:function(){var e=this;e.showAppointDealModel=!0},changeCurrentPage1:function(e){var t=this;t.currentPage1=e,t.getListGeneral()},changeCurrentPage2:function(e){var t=this;t.currentPage2=e,t.getListAddPrice()},handleRefresh:function(){}}},c=s,u=(a("0ee4"),a("2877")),f=Object(u["a"])(c,l,i,!1,null,null,null);t["default"]=f.exports},a9e3:function(e,t,a){"use strict";var l=a("83ab"),i=a("da84"),o=a("94ca"),r=a("6eeb"),n=a("5135"),s=a("c6b6"),c=a("7156"),u=a("c04e"),f=a("d039"),d=a("7c73"),m=a("241c").f,p=a("06cf").f,g=a("9bf2").f,v=a("58a8").trim,h="Number",B=i[h],b=B.prototype,y=s(d(b))==h,I=function(e){var t,a,l,i,o,r,n,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:l=2,i=49;break;case 79:case 111:l=8,i=55;break;default:return+c}for(o=c.slice(2),r=o.length,n=0;n<r;n++)if(s=o.charCodeAt(n),s<48||s>i)return NaN;return parseInt(o,l)}return+c};if(o(h,!B(" 0o1")||!B("0b1")||B("+0x1"))){for(var k,P=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof P&&(y?f((function(){b.valueOf.call(a)})):s(a)!=h)?c(new B(I(t)),a,P):I(t)},S=l?m(B):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;S.length>C;C++)n(B,k=S[C])&&!n(P,k)&&g(P,k,p(B,k));P.prototype=b,b.constructor=P,r(i,h,P)}},ab91:function(e,t,a){"use strict";var l=a("7111"),i=a.n(l);i.a},c20d:function(e,t,a){var l=a("da84"),i=a("58a8").trim,o=a("5899"),r=l.parseInt,n=/^[+-]?0[Xx]/,s=8!==r(o+"08")||22!==r(o+"0x16");e.exports=s?function(e,t){var a=i(String(e));return r(a,t>>>0||(n.test(a)?16:10))}:r},d2bb:function(e,t,a){var l=a("825a"),i=a("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,a={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(a,[]),t=a instanceof Array}catch(o){}return function(a,o){return l(a),i(o),t?e.call(a,o):a.__proto__=o,a}}():void 0)},e25e:function(e,t,a){var l=a("23e7"),i=a("c20d");l({global:!0,forced:parseInt!=i},{parseInt:i})}}]);